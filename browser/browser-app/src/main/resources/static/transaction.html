<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>transaction info</title>
</head>
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="css/base.css" rel="stylesheet">
<!--jQery文件,务必在bootstrap.min.js之前引入-->
<script src="js/base.js"></script>
<script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function () {
        //根据交易hash查询交易详情
        $("#queryTransactionInfo").click(function () {
            var val = $("#queryTransactionInfo").html();
            var newVal = val.replace(/(^\s*)|(\s*$)/g, "");
            if (newVal == "查询") {
                var transactionHash = $("#transactionHash").val();
                $.get(browser_api.URL.getTransactionByHash(transactionHash), function (success) {
                    $("#tab").html("");
                    var tableHeader = "<tr><td>amount</td> <td>currency</td><td>address</td></tr>";
                    $("#tab").append(tableHeader);
                    var dataInfo = "";
                    $(success.data.outputs).each(function (i, n) {
                        dataInfo = "<tr><td>" + n.amount + "</td><td>" + n.currency + "</td><td>" + n.lockScript.address + "</td></tr>";
                        $("#tab").append(dataInfo);
                        $("#queryTransactionInfo").html("");
                        $("#queryTransactionInfo").html("收起")
                        $('#collapseTwo').collapse('show')
                    });
                });
            } else {
                $("#queryTransactionInfo").html("查询");
                $('#collapseTwo').collapse('hide')
            }
        });
    });
</script>
<body>
<div>
    <span class="font">查询单个交易详情</span>
    <input type="text" class="form-control" placeholder="Please enter the transaction hash" id="transactionHash" style="width: 500px;
    margin:45px auto 10px auto">
    <button id="queryTransactionInfo" class="btn btn-primary">查询</button>
</div>
<div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
    <div class="panel-body">
        <table id="tab" class="table table-hover">
        </table>
    </div>
</div>
</body>
</html>